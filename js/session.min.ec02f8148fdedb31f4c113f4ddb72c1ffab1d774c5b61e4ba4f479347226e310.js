(()=>{function t(){document.querySelectorAll(".always-visible").forEach(e=>e.style.display="")}function e(e){document.querySelectorAll(".auth-only").forEach(t=>t.style.display=e?"":"none"),document.querySelectorAll(".guest-only").forEach(t=>t.style.display=e?"none":"")}function n(){t();const n=JSON.parse(localStorage.getItem("authUser")||"null");n?.authorized?(e(!0),fetch("https://8gatyboaf6.execute-api.af-south-1.amazonaws.com/default/verifyUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n.token})}).then(e=>e.json()).then(t=>{t.authorized||(console.warn("Session expired"),localStorage.removeItem("authUser"),e(!1))}).catch(e=>console.error("Session revalidation failed",e))):e(!1)}document.addEventListener("DOMContentLoaded",n)})()